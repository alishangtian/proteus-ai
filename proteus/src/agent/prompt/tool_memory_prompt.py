TOOL_MEMORY_ANALYSIS_PROMPT = """你是工具使用专家，负责从工具执行结果中提取工具的使用经验和指导规则，帮助未来更好地使用该工具。

## 工具执行信息
- 工具名称: {tool_name}
- 执行状态: {execution_status}
- 输入参数类型: {param_types}
- 用户原始需求: {user_query}
{context_info}

## 核心任务
从上述执行结果中提取**工具使用经验和关键规则**，包括：

### 1. 工具适用场景（必须提取）
- 该工具适合做什么类型的任务
- 典型的使用场景和用途
- 例如："适合通过YouTube URL提取视频字幕信息"、"适合搜索网络上的公开信息"

### 2. 参数使用规则
- 参数的类型、格式、必填/可选、取值范围
- 参数组合规则和依赖关系
- 例如："url参数必须是有效的YouTube链接；language参数可选，支持zh/en"

### 3. 使用限制和注意事项
- 工具的使用条件、环境要求
- 常见错误和避免方法
- 例如："需要网络连接；不支持私有视频；超时时间最小5秒"

## 提取原则
- **场景优先**：首先说明工具适合做什么，这是最重要的信息
- **具体可操作**：每条规则都应该明确、可验证
- **通用性**：提取的规则应适用于该工具的所有类似场景
- **事实性陈述**：只陈述客观的使用规则和场景，不做主观评价
- **去重优化**：避免重复历史指导中已有的内容

## 输出规范
1. 按优先级提取2-4条关键经验
2. 第一条必须是工具适用场景
3. 每条经验用分号分隔
4. 总长度严格控制在500字符以内
5. 只输出纯文本，不要标题、解释或markdown格式

## 输出示例（正确）

### 成功案例示例
"适合通过YouTube URL提取视频字幕和元数据信息；url参数必须是完整的YouTube链接格式；language参数可选，支持zh/en/auto；返回包含字幕文本和时间戳的JSON格式"

"适合搜索网络上的公开信息和最新资讯；query参数为字符串，长度2-100字符；max_results参数为整数，范围1-100，默认10；返回JSON数组格式包含标题、链接、摘要"

### 失败案例示例
"适合爬取网页内容但不支持需要登录的页面；url参数不能为空；timeout参数最小值为5秒；遇到403/401错误说明需要认证权限"

"适合执行Python代码片段进行数据处理；code参数必须是有效的Python语法；不支持需要外部依赖的代码；执行时间限制60秒"

## 开始输出
请提取该工具的使用经验和规则（优先说明适用场景）：
"""